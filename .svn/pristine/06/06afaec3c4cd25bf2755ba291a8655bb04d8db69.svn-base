<div class="panel panel-default">
	<div class="box-body">
		<div class="box-body col-md-12">
			<div class="col-sm-3">
				<div class="form-group">
					<div class="col-sm-12 {{ $errors->has('tgl_doc') ? ' has-error' : '' }}">
						{!! Form::label('LOGO SUPPLIER:', '') !!}
						{!! Form::file('cover') !!}
						@if (isset($book) && $book->cover)
						<p>
							{!! Html::image(asset('img/'.$book->cover), null, ['class'=>'img-rounded img-responsive']) !!}
						</p>
						@endif
						{!! $errors->first('cover', '<p class="help-block">:message</p>') !!}
						@if (isset($book))
						<p class="help-block">{{ $book->borrowed }} buku sedang dipinjam</p>
						@endif
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<div class="form-group">
					<div class="col-sm-12 {{ $errors->has('tgl_doc') ? ' has-error' : '' }}">
						{!! Form::label('MODEL:', '') !!}
						{!! Form::text('model', null, ['class'=>'form-control']) !!}
						{!! $errors->first('tgl_doc', '<p class="help-block">:message</p>') !!}
					</div>
				</div>
			</div>

			<div class="col-sm-3">
				<div class="form-group{{ $errors->has('name') ? ' has-error' : '' }}">
					<div class="col-md-12">
						{!! Form::label('DATE OF ISSUED:', '') !!}
					</div>
					<div class="col-md-12">
						@if(!empty($shift->date_issue)) 
						{!! Form::date('date_issue', \Carbon\Carbon::parse($shift->date_issue), ['class'=>'form-control']) !!}
						@else 
						{!! Form::date('date_issue', \Carbon\Carbon::now(), ['class'=>'form-control']) !!}
						@endif
						{!! $errors->first('date_issue', '<p class="help-block">:message</p>') !!}
					</div>

				</div>
			</div>
			<div class="col-sm-3">
				<div class="form-group{{ $errors->has('name') ? ' has-error' : '' }}">
					<div class="col-md-12">
						{!! Form::label('REFF. NO:', '') !!}
					</div>
					<div class="col-md-12">
						{!! Form::text('reff_no', null, ['class'=>'form-control']) !!}
						{!! $errors->first('reff_no', '<p class="help-block">:message</p>') !!}
					</div>

				</div>	
			</div>
		</div>
	</div>

	<div class="box-body">
		<div class="box-body col-md-12">
			<div class="col-sm-3">
				<div class="form-group">
					<div class="col-sm-12 {{ $errors->has('tgl_doc') ? ' has-error' : '' }}">
						{!! Form::label('SUPPLIER NAME:', '') !!}
						{!! Form::text('nama_supplier', null, ['class'=>'form-control']) !!}
						{!! $errors->first('nama_supplier', '<p class="help-block">:message</p>') !!}
					</div>
				</div>
			</div>

			<div class="col-sm-3">
				<div class="form-group">
					<div class="col-sm-12 {{ $errors->has('tgl_doc') ? ' has-error' : '' }}">
						{!! Form::label('MATERIAL:', '') !!}
						{!! Form::text('material', null, ['class'=>'form-control']) !!}
						{!! $errors->first('material', '<p class="help-block">:message</p>') !!}
					</div>
				</div>
			</div>

			<div class="col-sm-3">
				<div class="form-group">
					<div class="col-sm-12 {{ $errors->has('tgl_doc') ? ' has-error' : '' }}">
						{!! Form::label('GENERAL TOL:', '') !!}
						{!! Form::text('general_tol', null, ['class'=>'form-control']) !!}
						{!! $errors->first('general_tol', '<p class="help-block">:message</p>') !!}
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<div class="form-group{{ $errors->has('name') ? ' has-error' : '' }}">
					<div class="col-md-12">
						{!! Form::label('WEIGHT:', '') !!}
					</div>
					<div class="col-md-12">
						{!! Form::text('weight', null, ['class'=>'form-control']) !!}
						{!! $errors->first('weight', '<p class="help-block">:message</p>') !!}
					</div>

				</div>	
			</div>
		</div>
	</div>


	<div class="box-body">
		<div class="box-body col-md-12">
			<div class="col-sm-3">
				<div class="form-group">
					<div class="col-sm-12 {{ $errors->has('tgl_doc') ? ' has-error' : '' }}">
						{!! Form::label('PIS NO:', '') !!}
						{!! Form::text('no_pis', null, ['class'=>'form-control']) !!}
						{!! $errors->first('no_pis', '<p class="help-block">:message</p>') !!}
					</div>
				</div>
			</div>

			<div class="col-sm-3">
				<div class="form-group{{ $errors->has('name') ? ' has-error' : '' }}">
					<div class="col-md-12">
						{!! Form::label('PART NO:', '') !!}
					</div>
					<div class="col-md-12">
						{!! Form::text('part_no', null, ['class'=>'form-control']) !!}
						{!! $errors->first('part_no', '<p class="help-block">:message</p>') !!}
					</div>

				</div>
			</div>
			<div class="col-sm-3">
				<div class="form-group{{ $errors->has('name') ? ' has-error' : '' }}">
					<div class="col-md-12">
						{!! Form::label('PART NAME:', '') !!}
					</div>
					<div class="col-md-12">
						{!! Form::text('part_name', null, ['class'=>'form-control']) !!}
						{!! $errors->first('part_name', '<p class="help-block">:message</p>') !!}
					</div>
				</div>	
			</div>
		</div>
	</div>

	<div class="box-body">
		<div class="box-body col-md-12">
			<div class="col-sm-3">
				<div class="form-group">
				</div>
			</div>

			<div class="col-sm-2">
				<div class="form-group{{ $errors->has('name') ? ' has-error' : '' }}">
					<div class="col-md-6">
						{!! Form::label('PT.IGP', '') !!}

					</div>
					<div class="col-md-12">
						{!! Form::label('SUPPLIER DEPT.', '') !!}
					</div>

				</div>
			</div>
			<div class="col-sm-4">
				<div class="form-group{{ $errors->has('name') ? ' has-error' : '' }}">
					<div class="col-md-12">
						{!! Form::label('QUALITY ASSURANCE DIVISION', '') !!}
					</div>
					<div class="col-md-12">
						{!! Form::text('supp_dept', null, ['class'=>'form-control']) !!}
						{!! $errors->first('supp_dept', '<p class="help-block">:message</p>') !!}
					</div>

				</div>	
			</div>
		</div>
	</div>
</div>
<div class="box-body">
	<div class="panel panel-default">
		<div class="panel-heading" style="background-color:#F0F8FF">
			<h2 class="panel-title" ><b>I. MATERIAL PERFORMANCE</b></h2>
		</div>

		<div class="panel-heading">
			<h3 class="panel-title">A. CHEMICAL COMPOSITION</h3>
		</div>
		<div class="panel-body">
			<button type="button" name="add1" id="add1" class="btn btn-success">+</button>
			<div class="box-body col-md-12">
				<!-- /.Table Input-->
				<table class="table table-bordered" id="dynamic_field1" >
					<tr>
						<th width="80px" rowspan="2" align="center" >NO</th>
						<th align="middle-center" rowspan="2" width="220px" >INSPECTION ITEM</th>
						<th colspan="2"><p align="center">STANDARD VALUE</p></th>
						<th rowspan="2" width="200px">INSPECTION INSTRUMENT</th>
						<th rowspan="2" width="60px"><p align="center">RANK</p></th>
						<th colspan="2"><p align="center">SAMPLING PLAN</p></th>
						<th rowspan="2" width="150px"><p align="center">REMARKS</p></th>
						<th colspan="" width="20px"></th>
					</tr>
					
					<tr>
						<th width="150px">NOMINAL</th>
						<th width="150px">TOLERANCE</th>
						<th width="200px">IN PROSES</th>
						<th width="220px">AT DELIVERY</th>
						<th width="20px">Hapus</th>
					</tr> 
					@if (!empty($composition->no_pisigp))
					@foreach ($entity->getLines($composition->no_pisigp)->get() as $model)
					<tr id="line_field1_{{ $loop->iteration }}">
						<div class="box-body col-md-3">
							<div class="form-group"> 
								<td>
									<input type="text" id="no_{{ $loop->iteration }}" name="no_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->no }}" align="center"/>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="item_{{ $loop->iteration }}" name="item_{{ $loop->iteration }}" placeholder="" class="form-control name_list"  value="{{ $model->item }}" />

									</div>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="nominal_{{ $loop->iteration }}" name="nominal_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->nominal }}"/>
									</div>
								</td>

								<td>
									<input type="text" id="tolerance_{{ $loop->iteration }}" name="tolerance_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->tolerance }}"/>
								</td>

								<td>
									<input type="text" id="instrument_{{ $loop->iteration }}" name="instrument_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->instrument }}"/>
								</td>

								<td>
									<input type="text" id="rank_{{ $loop->iteration }}" name="rank_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->rank }}"/>
								</td>

								<td>
									<input type="text" id="proses_{{ $loop->iteration }}" name="proses_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->proses }}"/>
								</td>

								<td>
									<input type="text" id="delivery_{{ $loop->iteration }}" name="delivery_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->delivery }}"/>
								</td>

								<td>
									<input type="text" id="remarks_{{ $loop->iteration }}" name="remarks_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->remarks }}"/>
								</td>

								<td>
									<button id="line_btndelete_{{ $loop->iteration }}" name="line_btndelete_{{ $loop->iteration }}" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">
										<i class="fa fa-times"></i>
									</button>
								</td>
							</div>
						</div>      
					</tr>
					@endforeach

					{!! Form::hidden('jml_line1', $entity->getLines($composition->no_pisigp)->get()->count(), ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_line1']) !!}
					@else
					{!! Form::hidden('jml_line1', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_line1']) !!}
					@endif
				</table>
			</div>
		</div>

		<div class="panel-heading">
			<h3 class="panel-title">B.MECHANICAL PROPERTIES</h3>
		</div>
		<div class="panel-body">
			<button type="button" name="addd" id="addd" class="btn btn-success">+</button>
			<div class="box-body col-md-12">
				<!-- /.Table Input-->
				<table class="table table-bordered" id="dynamic_field2">
					<tr>
						<th width="80px" rowspan="2" align="center" >NO</th>
						<th align="middle-center" rowspan="2" width="220px" >INSPECTION ITEM</th>
						<th colspan="2"><p align="center">STANDARD VALUE</p></th>
						<th rowspan="2" width="200px">INSPECTION INSTRUMENT</th>
						<th rowspan="2" width="60px"><p align="center">RANK</p></th>
						<th colspan="2"><p align="center">SAMPLING PLAN</p></th>
						<th rowspan="2" width="150px"><p align="center">REMARKS</p></th>
						<th colspan="" width="20px"></th>
					</tr>
					
					<tr>
						<th width="150px">NOMINAL</th>
						<th width="150px">TOLERANCE</th>
						<th width="200px">IN PROSES</th>
						<th width="220px">AT DELIVERY</th>
						<th width="20px">Hapus</th>
					</tr> 
					@if (!empty($properties->no_pisigp))
					@foreach ($entity->getLines1($properties->no_pisigp)->get() as $model)
					<tr id="line_field2_{{ $loop->iteration }}">
						<div class="box-body col-md-3">
							<div class="form-group"> 
								<td>
									<input type="text" id="no_{{ $loop->iteration }}" name="no_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->no }}" align="center"/>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="item_{{ $loop->iteration }}" name="item_{{ $loop->iteration }}" placeholder="" class="form-control name_list"  value="{{ $model->item }}" />

									</div>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="nominal_{{ $loop->iteration }}" name="nominal_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->nominal }}"/>
									</div>
								</td>

								<td>
									<input type="text" id="tolerance_{{ $loop->iteration }}" name="tolerance_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->tolerance }}"/>
								</td>

								<td>
									<input type="text" id="instrument_{{ $loop->iteration }}" name="instrument_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->instrument }}"/>
								</td>

								<td>
									<input type="text" id="rank_{{ $loop->iteration }}" name="rank_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->rank }}"/>
								</td>

								<td>
									<input type="text" id="proses_{{ $loop->iteration }}" name="proses_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->proses }}"/>
								</td>

								<td>
									<input type="text" id="delivery_{{ $loop->iteration }}" name="delivery_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->delivery }}"/>
								</td>

								<td>
									<input type="text" id="remarks_{{ $loop->iteration }}" name="remarks_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->remarks }}"/>
								</td>

								<td>
									<button id="line_btndelete_{{ $loop->iteration }}" name="line_btndelete_{{ $loop->iteration }}" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">
										<i class="fa fa-times"></i>
									</button>
								</td>
							</div>
						</div>      
					</tr>
					@endforeach

					{!! Form::hidden('jml_linee', $entity->getLines1($properties->no_pisigp)->get()->count(), ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_linee']) !!}
					@else
					{!! Form::hidden('jml_linee', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_linee']) !!}
					@endif
				</table>
			</div>
		</div>

		<div class="panel-heading">
			<h3 class="panel-title">C. WELDING PERFORMANCE (IF ANY)	</h3>
		</div>
		<div class="panel-body">
			<button type="button" name="add3" id="add3" class="btn btn-success">+</button>
			<div class="box-body col-md-12">
				<!-- /.Table Input-->
				<table class="table table-bordered" id="dynamic_field3">
					<tr>
						<th width="80px" rowspan="2" align="center" >NO</th>
						<th align="middle-center" rowspan="2" width="220px" >INSPECTION ITEM</th>
						<th colspan="2"><p align="center">STANDARD VALUE</p></th>
						<th rowspan="2" width="200px">INSPECTION INSTRUMENT</th>
						<th rowspan="2" width="60px"><p align="center">RANK</p></th>
						<th colspan="2"><p align="center">SAMPLING PLAN</p></th>
						<th rowspan="2" width="150px"><p align="center">REMARKS</p></th>
						<th colspan="" width="20px"></th>
					</tr>
					
					<tr>
						<th width="150px">NOMINAL</th>
						<th width="150px">TOLERANCE</th>
						<th width="200px">IN PROSES</th>
						<th width="220px">AT DELIVERY</th>
						<th width="20px">Hapus</th>
					</tr> 
					@if (!empty($performances->no_pisigp))
					@foreach ($entity->getLines2($performances->no_pisigp)->get() as $model)
					<tr id="line_field3_{{ $loop->iteration }}">
						<div class="box-body col-md-3">
							<div class="form-group"> 
								<td>
									<input type="text" id="no_{{ $loop->iteration }}" name="no_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->no }}" align="center"/>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="item_{{ $loop->iteration }}" name="item_{{ $loop->iteration }}" placeholder="" class="form-control name_list"  value="{{ $model->item }}" />

									</div>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="nominal_{{ $loop->iteration }}" name="nominal_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->nominal }}"/>
									</div>
								</td>

								<td>
									<input type="text" id="tolerance_{{ $loop->iteration }}" name="tolerance_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->tolerance }}"/>
								</td>

								<td>
									<input type="text" id="instrument_{{ $loop->iteration }}" name="instrument_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->instrument }}"/>
								</td>

								<td>
									<input type="text" id="rank_{{ $loop->iteration }}" name="rank_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->rank }}"/>
								</td>

								<td>
									<input type="text" id="proses_{{ $loop->iteration }}" name="proses_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->proses }}"/>
								</td>

								<td>
									<input type="text" id="delivery_{{ $loop->iteration }}" name="delivery_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->delivery }}"/>
								</td>

								<td>
									<input type="text" id="remarks_{{ $loop->iteration }}" name="remarks_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->remarks }}"/>
								</td>

								<td>
									<button id="line_btndelete_{{ $loop->iteration }}" name="line_btndelete_{{ $loop->iteration }}" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">
										<i class="fa fa-times"></i>
									</button>
								</td>
							</div>
						</div>      
					</tr>
					@endforeach

					{!! Form::hidden('jml_line3', $entity->getLines2($performances->no_pisigp)->get()->count(), ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_line3']) !!}
					@else
					{!! Form::hidden('jml_line3', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_line3']) !!}
					@endif
				</table>
			</div>
		</div>

		<div class="panel-heading">
			<h3 class="panel-title">D. SURFACE TREATMENT (IF ANY)</h3>
		</div>
		<div class="panel-body">
			<button type="button" name="add4" id="add4" class="btn btn-success">+</button>
			<div class="box-body col-md-12">
				<!-- /.Table Input-->
				<table class="table table-bordered" id="dynamic_field4">
					<tr>
						<th width="80px" rowspan="2" align="center" >NO</th>
						<th align="middle-center" rowspan="2" width="220px" >INSPECTION ITEM</th>
						<th colspan="2"><p align="center">STANDARD VALUE</p></th>
						<th rowspan="2" width="200px">INSPECTION INSTRUMENT</th>
						<th rowspan="2" width="60px"><p align="center">RANK</p></th>
						<th colspan="2"><p align="center">SAMPLING PLAN</p></th>
						<th rowspan="2" width="150px"><p align="center">REMARKS</p></th>
						<th colspan="" width="20px"></th>
					</tr>
					
					<tr>
						<th width="150px">NOMINAL</th>
						<th width="150px">TOLERANCE</th>
						<th width="200px">IN PROSES</th>
						<th width="220px">AT DELIVERY</th>
						<th width="20px">Hapus</th>
					</tr>
					@if (!empty($treatements->no_pisigp))
					@foreach ($entity->getLines3($treatements->no_pisigp)->get() as $model)
					<tr id="line_field4_{{ $loop->iteration }}">
						<div class="box-body col-md-3">
							<div class="form-group"> 
								<td>
									<input type="text" id="no_{{ $loop->iteration }}" name="no_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->no }}" align="center"/>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="item_{{ $loop->iteration }}" name="item_{{ $loop->iteration }}" placeholder="" class="form-control name_list"  value="{{ $model->item }}" />

									</div>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="nominal_{{ $loop->iteration }}" name="nominal_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->nominal }}"/>
									</div>
								</td>

								<td>
									<input type="text" id="tolerance_{{ $loop->iteration }}" name="tolerance_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->tolerance }}"/>
								</td>

								<td>
									<input type="text" id="instrument_{{ $loop->iteration }}" name="instrument_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->instrument }}"/>
								</td>

								<td>
									<input type="text" id="rank_{{ $loop->iteration }}" name="rank_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->rank }}"/>
								</td>

								<td>
									<input type="text" id="proses_{{ $loop->iteration }}" name="proses_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->proses }}"/>
								</td>

								<td>
									<input type="text" id="delivery_{{ $loop->iteration }}" name="delivery_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->delivery }}"/>
								</td>

								<td>
									<input type="text" id="remarks_{{ $loop->iteration }}" name="remarks_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->remarks }}"/>
								</td>

								<td>
									<button id="line_btndelete_{{ $loop->iteration }}" name="line_btndelete_{{ $loop->iteration }}" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">
										<i class="fa fa-times"></i>
									</button>
								</td>
							</div>
						</div>      
					</tr>
					@endforeach

					{!! Form::hidden('jml_line4', $entity->getLines3($treatements->no_pisigp)->get()->count(), ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_line4']) !!}
					@else
					{!! Form::hidden('jml_line4', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_line4']) !!}
					@endif 
				</table>
			</div>
		</div>

		<div class="panel-heading">
			<h3 class="panel-title">E. HEAT TREATMENT (IF ANY)</h3>
		</div>
		<div class="panel-body">
			<button type="button" name="add5" id="add5" class="btn btn-success">+</button>
			<div class="box-body col-md-12">
				<!-- /.Table Input-->
				<table class="table table-bordered" id="dynamic_field5">
					<tr>
						<th width="80px" rowspan="2" align="center" >NO</th>
						<th align="middle-center" rowspan="2" width="220px" >INSPECTION ITEM</th>
						<th colspan="2"><p align="center">STANDARD VALUE</p></th>
						<th rowspan="2" width="200px">INSPECTION INSTRUMENT</th>
						<th rowspan="2" width="60px"><p align="center">RANK</p></th>
						<th colspan="2"><p align="center">SAMPLING PLAN</p></th>
						<th rowspan="2" width="150px"><p align="center">REMARKS</p></th>
						<th colspan="" width="20px"></th>
					</tr>
					
					<tr>
						<th width="150px">NOMINAL</th>
						<th width="150px">TOLERANCE</th>
						<th width="200px">IN PROSES</th>
						<th width="220px">AT DELIVERY</th>
						<th width="20px">Hapus</th>
					</tr> 
					@if (!empty($htreatements->no_pisigp))
					@foreach ($entity->getLines4($htreatements->no_pisigp)->get() as $model)
					<tr id="line_field3_{{ $loop->iteration }}">
						<div class="box-body col-md-3">
							<div class="form-group"> 
								<td>
									<input type="text" id="no_{{ $loop->iteration }}" name="no_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->no }}" align="center"/>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="item_{{ $loop->iteration }}" name="item_{{ $loop->iteration }}" placeholder="" class="form-control name_list"  value="{{ $model->item }}" />

									</div>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="nominal_{{ $loop->iteration }}" name="nominal_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->nominal }}"/>
									</div>
								</td>

								<td>
									<input type="text" id="tolerance_{{ $loop->iteration }}" name="tolerance_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->tolerance }}"/>
								</td>

								<td>
									<input type="text" id="instrument_{{ $loop->iteration }}" name="instrument_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->instrument }}"/>
								</td>

								<td>
									<input type="text" id="rank_{{ $loop->iteration }}" name="rank_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->rank }}"/>
								</td>

								<td>
									<input type="text" id="proses_{{ $loop->iteration }}" name="proses_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->proses }}"/>
								</td>

								<td>
									<input type="text" id="delivery_{{ $loop->iteration }}" name="delivery_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->delivery }}"/>
								</td>

								<td>
									<input type="text" id="remarks_{{ $loop->iteration }}" name="remarks_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->remarks }}"/>
								</td>

								<td>
									<button id="line_btndelete_{{ $loop->iteration }}" name="line_btndelete_{{ $loop->iteration }}" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">
										<i class="fa fa-times"></i>
									</button>
								</td>
							</div>
						</div>      
					</tr>
					@endforeach

					{!! Form::hidden('jml_line5', $entity->getLines4($htreatements->no_pisigp)->get()->count(), ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_line5']) !!}
					@else
					{!! Form::hidden('jml_line5', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_line5']) !!}
					@endif
				</table>
			</div>
		</div>
	</div>
</div>

<div class="box-body">
	<div class="panel panel-default">
		<div class="panel-heading" style="background-color:#F0F8FF">
			<h3 class="panel-title"><b>II. APPEARENCE</b></h3>
		</div>
		<div class="panel-body">
			<button type="button" name="tambah" id="tambah" class="btn btn-success">+</button>
			<div class="box-body col-md-12">
				<!-- /.Table Input-->
				<table class="table table-bordered" id="dynamic_field6">
					<tr>
						<th width="80px" rowspan="2" align="center" >NO</th>
						<th align="middle-center" rowspan="2" width="220px" >INSPECTION ITEM</th>
						<th colspan="2"><p align="center">STANDARD VALUE</p></th>
						<th rowspan="2" width="200px">INSPECTION INSTRUMENT</th>
						<th rowspan="2" width="60px"><p align="center">RANK</p></th>
						<th colspan="2"><p align="center">SAMPLING PLAN</p></th>
						<th rowspan="2" width="150px"><p align="center">REMARKS</p></th>
						<th colspan="" width="20px"></th>
					</tr>
					
					<tr>
						<th width="150px">NOMINAL</th>
						<th width="150px">TOLERANCE</th>
						<th width="200px">IN PROSES</th>
						<th width="220px">AT DELIVERY</th>
						<th width="20px">Hapus</th>
					</tr>
					@if (!empty($appearences->no_pisigp))
					@foreach ($entity->getLines5($appearences->no_pisigp)->get() as $model)
					<tr id="line_field6_{{ $loop->iteration }}">
						<div class="box-body col-md-3">
							<div class="form-group"> 
								<td>
									<input type="text" id="no_{{ $loop->iteration }}" name="no_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->no }}" align="center"/>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="item_{{ $loop->iteration }}" name="item_{{ $loop->iteration }}" placeholder="" class="form-control name_list"  value="{{ $model->item }}" />

									</div>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="nominal_{{ $loop->iteration }}" name="nominal_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->nominal }}"/>
									</div>
								</td>

								<td>
									<input type="text" id="tolerance_{{ $loop->iteration }}" name="tolerance_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->tolerance }}"/>
								</td>

								<td>
									<input type="text" id="instrument_{{ $loop->iteration }}" name="instrument_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->instrument }}"/>
								</td>

								<td>
									<input type="text" id="rank_{{ $loop->iteration }}" name="rank_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->rank }}"/>
								</td>

								<td>
									<input type="text" id="proses_{{ $loop->iteration }}" name="proses_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->proses }}"/>
								</td>

								<td>
									<input type="text" id="delivery_{{ $loop->iteration }}" name="delivery_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->delivery }}"/>
								</td>

								<td>
									<input type="text" id="remarks_{{ $loop->iteration }}" name="remarks_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->remarks }}"/>
								</td>

								<td>
									<button id="line_btndelete_{{ $loop->iteration }}" name="line_btndelete_{{ $loop->iteration }}" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">
										<i class="fa fa-times"></i>
									</button>
								</td>
							</div>
						</div>      
					</tr>
					@endforeach

					{!! Form::hidden('jml_rows', $entity->getLines5($appearences->no_pisigp)->get()->count(), ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_rows']) !!}
					@else
					{!! Form::hidden('jml_rows', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_rows']) !!}
					@endif 
				</table>
			</div>
		</div>
	</div>
</div>

<div class="box-body">
	<div class="panel panel-default">
		<div class="panel-heading" style="background-color:#F0F8FF">
			<h3 class="panel-title"><b>III. DIMENSION</b></h3>
		</div>
		<div class="panel-body">
			<button type="button" name="dimention" id="dimention" class="btn btn-success">+</button>
			<div class="box-body col-md-12">
				<!-- /.Table Input-->
				<table class="table table-bordered" id="dynamic_field7">
					<tr>
						<th width="80px" rowspan="2" align="center" >NO</th>
						<th align="middle-center" rowspan="2" width="220px" >INSPECTION ITEM</th>
						<th colspan="2"><p align="center">STANDARD VALUE</p></th>
						<th rowspan="2" width="200px">INSPECTION INSTRUMENT</th>
						<th rowspan="2" width="60px"><p align="center">RANK</p></th>
						<th colspan="2"><p align="center">SAMPLING PLAN</p></th>
						<th rowspan="2" width="150px"><p align="center">REMARKS</p></th>
						<th colspan="" width="20px"></th>
					</tr>
					
					<tr>
						<th width="150px">NOMINAL</th>
						<th width="150px">TOLERANCE</th>
						<th width="200px">IN PROSES</th>
						<th width="220px">AT DELIVERY</th>
						<th width="20px">Hapus</th>
					</tr> 
					@if (!empty($dimentions->no_pisigp))
					@foreach ($entity->getLines6($dimentions->no_pisigp)->get() as $model)
					<tr id="line_field7_{{ $loop->iteration }}">
						<div class="box-body col-md-3">
							<div class="form-group"> 
								<td>
									<input type="text" id="no_{{ $loop->iteration }}" name="no_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->no }}" align="center"/>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="item_{{ $loop->iteration }}" name="item_{{ $loop->iteration }}" placeholder="" class="form-control name_list"  value="{{ $model->item }}" />

									</div>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="nominal_{{ $loop->iteration }}" name="nominal_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->nominal }}"/>
									</div>
								</td>

								<td>
									<input type="text" id="tolerance_{{ $loop->iteration }}" name="tolerance_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->tolerance }}"/>
								</td>

								<td>
									<input type="text" id="instrument_{{ $loop->iteration }}" name="instrument_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->instrument }}"/>
								</td>

								<td>
									<input type="text" id="rank_{{ $loop->iteration }}" name="rank_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->rank }}"/>
								</td>

								<td>
									<input type="text" id="proses_{{ $loop->iteration }}" name="proses_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->proses }}"/>
								</td>

								<td>
									<input type="text" id="delivery_{{ $loop->iteration }}" name="delivery_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->delivery }}"/>
								</td>

								<td>
									<input type="text" id="remarks_{{ $loop->iteration }}" name="remarks_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->remarks }}"/>
								</td>

								<td>
									<button id="line_btndelete_{{ $loop->iteration }}" name="line_btndelete_{{ $loop->iteration }}" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">
										<i class="fa fa-times"></i>
									</button>
								</td>
							</div>
						</div>      
					</tr>
					@endforeach

					{!! Form::hidden('jml_input1', $entity->getLines6($dimentions->no_pisigp)->get()->count(), ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_input1']) !!}
					@else
					{!! Form::hidden('jml_input1', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_input1']) !!}
					@endif
				</table>
			</div>
		</div>
	</div>
</div>

<div class="box-body">
	<div class="panel panel-default">
		<div class="panel-heading" style="background-color:#F0F8FF">
			<h3 class="panel-title"><b>IV. SOC FREE</b></h3>
		</div>
		<div class="panel-body">
			<button type="button" name="socfree" id="socfree" class="btn btn-success">+</button>
			<div class="box-body col-md-12">
				<!-- /.Table Input-->
				<table class="table table-bordered" id="dynamic_field8">
					<tr>
						<th width="80px" rowspan="2" align="center" >NO</th>
						<th align="middle-center" rowspan="2" width="220px" >INSPECTION ITEM</th>
						<th colspan="2"><p align="center">STANDARD VALUE</p></th>
						<th rowspan="2" width="200px">INSPECTION INSTRUMENT</th>
						<th rowspan="2" width="60px"><p align="center">RANK</p></th>
						<th colspan="2"><p align="center">SAMPLING PLAN</p></th>
						<th rowspan="2" width="150px"><p align="center">REMARKS</p></th>
						<th colspan="" width="20px"></th>
					</tr>
					
					<tr>
						<th width="150px">NOMINAL</th>
						<th width="150px">TOLERANCE</th>
						<th width="200px">IN PROSES</th>
						<th width="220px">AT DELIVERY</th>
						<th width="20px">Hapus</th>
					</tr>
					@if (!empty($socfs->no_pisigp))
					@foreach ($entity->getLines7($socfs->no_pisigp)->get() as $model)
					<tr id="line_field8_{{ $loop->iteration }}">
						<div class="box-body col-md-3">
							<div class="form-group"> 
								<td>
									<input type="text" id="no_{{ $loop->iteration }}" name="no_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->no }}" align="center"/>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="item_{{ $loop->iteration }}" name="item_{{ $loop->iteration }}" placeholder="" class="form-control name_list"  value="{{ $model->item }}" />

									</div>
								</td>

								<td>
									<div class="input-group">
										<input type="text" id="nominal_{{ $loop->iteration }}" name="nominal_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->nominal }}"/>
									</div>
								</td>

								<td>
									<input type="text" id="tolerance_{{ $loop->iteration }}" name="tolerance_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->tolerance }}"/>
								</td>

								<td>
									<input type="text" id="instrument_{{ $loop->iteration }}" name="instrument_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->instrument }}"/>
								</td>

								<td>
									<input type="text" id="rank_{{ $loop->iteration }}" name="rank_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->rank }}"/>
								</td>

								<td>
									<input type="text" id="proses_{{ $loop->iteration }}" name="proses_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->proses }}"/>
								</td>

								<td>
									<input type="text" id="delivery_{{ $loop->iteration }}" name="delivery_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->delivery }}"/>
								</td>

								<td>
									<input type="text" id="remarks_{{ $loop->iteration }}" name="remarks_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->remarks }}"/>
								</td>

								<td>
									<button id="line_btndelete_{{ $loop->iteration }}" name="line_btndelete_{{ $loop->iteration }}" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">
										<i class="fa fa-times"></i>
									</button>
								</td>
							</div>
						</div>      
					</tr>
					@endforeach

					{!! Form::hidden('inputhidden', $entity->getLines2($socfs->no_pisigp)->get()->count(), ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'inputhidden']) !!}
					@else
					{!! Form::hidden('inputhidden', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'inputhidden']) !!}
					@endif 
				</table>
			</div>
		</div>
	</div>
</div>


<div class="box-body">
	<div class="panel panel-default">
		<div class="panel-heading" style="background-color:#F0F8FF">
			<h3 class="panel-title"><b>V. PART ROUTING</b></h3>
		</div>
		<div class="panel-body">
			<div class="box-body">
				<button type="button" name="partrouting" id="partrouting" class="btn btn-success">+</button>

				<div class="box-body col-md-12">
					<!-- /.Table Input-->
					<table class="table table-bordered" id="dynamic_field9">
						<tr>
							<th width="70px">NO</th>
							<th width="100px">LEVEL</th>
							<th width="300px">PART NAME</th>
							<th width="300px">PART NO</th>
							<th width="300px">PROCESS</th>
							<th width="300px">SUPPLIER</th>
							<th width="50px">Hapus</th>
						</tr> 
						@if (!empty($routs->no_pisigp))
						@foreach ($entity->getLines8($routs->no_pisigp)->get() as $model)
						<tr id="line_field9_{{ $loop->iteration }}">
							<div class="box-body col-md-3">
								<div class="form-group"> 
									<td>
										<input type="text" id="level_{{ $loop->iteration }}" name="level_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->no }}" align="center"/>
									</td>

									<td>
										<input type="text" id="level_{{ $loop->iteration }}" name="level_{{ $loop->iteration }}" placeholder="" class="form-control name_list" readonly="true" value="{{ $model->level }}" align="center"/>
									</td>

									<td>
										<div class="input-group">
											<input type="text" id="part_name_{{ $loop->iteration }}" name="part_name_{{ $loop->iteration }}" placeholder="" class="form-control name_list"  value="{{ $model->part_name }}" />

										</div>
									</td>

									<td>
										<div class="input-group">
											<input type="text" id="part_no_{{ $loop->iteration }}" name="part_no_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->part_no }}"/>
										</div>
									</td>

									<td>
										<input type="text" id="proses_{{ $loop->iteration }}" name="proses_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->proses }}"/>
									</td>

									<td>
										<input type="text" id="supplier_{{ $loop->iteration }}" name="supplier_{{ $loop->iteration }}" placeholder="" class="form-control name_list" value="{{ $model->supplier }}"/>
									</td>

									<td>
										<button id="line_btndelete_{{ $loop->iteration }}" name="line_btndelete_{{ $loop->iteration }}" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">
											<i class="fa fa-times"></i>
										</button>
									</td>
								</div>
							</div>      
						</tr>
						@endforeach

						{!! Form::hidden('inputhidden', $entity->getLines8($routs->no_pisigp)->get()->count(), ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'inputhidden']) !!}
						@else
						{!! Form::hidden('barishidden', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'barishidden']) !!}
						@endif 
					</table>
				</div>
			</div>
			<div class="box-body">
				<div class="col-sm-12">
					{!! Form::label('APPROVAL SUPPLIER', '') !!}
				</div>
			</div>
			<br>
			<br>
			<div class="box-body col-md-12">
				<div class="form-group col-md-4">
					<div class="col-md-3">
						{!! Form::label('cover', 'STAFF', ['class'=>'col-md-2 control-label']) !!}
					</div>
					<div class="col-md-3">
						{!! Form::file('cover') !!}
					</div>
				</div>

				<div class="form-group col-md-4">
					<div class="col-md-4">
						{!! Form::label('cover', 'SUPERVISOR', ['class'=>'col-md-2 control-label']) !!}
					</div>
					<div class="col-md-3">
						{!! Form::file('cover') !!}
					</div>
				</div>

				<div class="form-group col-md-4">
					<div class="col-md-4">
						{!! Form::label('cover', 'MANAGER', ['class'=>'col-md-2 control-label']) !!}
					</div>
					<div class="col-md-4">
						{!! Form::file('cover') !!}
					</div>
				</div>
			</div>
		</div>
	</div>
</div>	


<div class="box-body">
	<div class="panel panel-default">
		<div class="panel-heading" style="background-color:#F0F8FF">
			<h3 class="panel-title"><b>REVISION COLUMN (IF ANY)</b></h3>
		</div>
		<div class="panel-body">
			<div class="box-body col-md-12">
				<!-- /.Table Input-->
				<button type="button" name="revisi" id="revisi" class="btn btn-success">+</button>
				<table class="table table-bordered" id="dynamic_fieldd">
					<tr>
						<th width="100px">REVISI NO</th>
						<th width="200px">DATE</th>
						<th width="300px">REVISION RECORD / REMARKS</th>
						<th width="300px">PCR/ECI/ECRNO.</th>
						<th width="50px">Hapus</th>
					</tr> 
				</table>
				{!! Form::hidden('jml_revisi', 0, ['class'=>'form-control', 'readonly'=>'readonly', 'id' => 'jml_revisi']) !!}
			</div>
			<div class="box-body col-md-12">
				<div class="form-group col-md-4">
					<div class="col-md-3">
						{!! Form::label('cover', 'STAFF', ['class'=>'col-md-2 control-label']) !!}
					</div>
					<div class="col-md-3">
						{!! Form::file('cover') !!}
					</div>
				</div>

				<div class="form-group col-md-4">
					<div class="col-md-4">
						{!! Form::label('cover', 'SUPERVISOR', ['class'=>'col-md-2 control-label']) !!}
					</div>
					<div class="col-md-3">
						{!! Form::file('cover') !!}
					</div>
				</div>

				<div class="form-group col-md-4">
					<div class="col-md-4">
						{!! Form::label('cover', 'MANAGER', ['class'=>'col-md-2 control-label']) !!}
					</div>
					<div class="col-md-4">
						{!! Form::file('cover') !!}
					</div>
				</div>
			</div>
		</div>
	</div>
</div>	

<div class="box-footer">
	<form action="{{ url('update') }}" method="POST">
		<!-- fields -->
		<button type="submit" name="action" value="save" class="btn btn-success">Save</button>
		&nbsp;&nbsp;
		&nbsp;&nbsp;
		<button type="submit" name="action" value="save_draft" class="btn btn-primary">Save Draft</button>
	</form>


	&nbsp;&nbsp;
	&nbsp;&nbsp;

	{!! Form::submit('PRINT/PREVIW', ['class'=>'btn btn-info']) !!}
	&nbsp;&nbsp;
	&nbsp;&nbsp;
	<a class="btn btn-danger" href="{{ route('pistandards.index') }}"  id="btn-cancel">Back</a>
	&nbsp;&nbsp;

</div>


@section('scripts')
<script type="text/javascript">

		//SAMPAI SINI
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
		// A. CHEMICAL COMPOSITION


     	// Initialize Select2 Elements

     	$("#add1").click(function(){
     		var jml_line1 = document.getElementById("jml_line1").value.trim();
     		jml_line1 = Number(jml_line1) + 1;
     		document.getElementById("jml_line1").value = jml_line1  ;

     		var no = 'no_'+jml_line1;
     		var item = 'item_'+jml_line1;
     		var nominal = 'nominal_'+jml_line1;
     		var tolerance = 'tolerance_'+jml_line1;
     		var instrument = 'instrument_'+jml_line1;
     		var rank = 'rank_'+jml_line1;
     		var proses = 'proses_'+jml_line1;
     		var delivery = 'delivery_'+jml_line1;
     		var remarks = 'remarks_'+jml_line1;
     		var btndelete = 'line_btndelete_'+jml_line1;
     		var id_field1 = 'line_field1_'+jml_line1;

     		$("#dynamic_field1").append(
     			'<tr id="'+id_field1+'">\
     			<td>\
     				<input type="text" id="' +no+ '" name="' +no+ '" placeholder="" class="form-control name_list" value="'+jml_line1+'" align="center"/>\
     			</td>\
     			<td>\
     				<div class="input-group">\
     					<input type="text" id="' +item+ '" name="' +item+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
     				</div>\
     			</td>\
     			<td>\
     				<div class="input-group">\
     					<input type="text" id="' +nominal+ '" name="' +nominal+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
     				</div>\
     			</td>\
     			<td>\
     				<input type="text" id="' +tolerance+ '" name="' +tolerance+ '" placeholder="" class="form-control name_list" />\
     			</td>\
     			<td>\
     				<input type="text" id="' +instrument+ '" name="' +instrument+ '" placeholder="" class="form-control name_list" />\
     			</td>\
     			<td>\
     				<input type="text" id="' +rank+ '" name="' +rank+ '" placeholder="" class="form-control name_list" />\
     			</td>\
     			<td>\
     				<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
     			</td>\
     			<td>\
     				<input type="text" id="' +delivery+ '" name="' +delivery+ '" placeholder="" class="form-control name_list" />\
     			</td>\
     			<td>\
     				<input type="text" id="' +remarks+ '" name="' +remarks+ '" placeholder="" class="form-control name_list" />\
     			</td>\
     			<td>\
     				<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
     					<i class="fa fa-times"></i>\
     				</button>\
     			</td>\
     		</tr>'
     		);

     	}); 

     	function deleteLine(ths) {
     		var msg = 'Anda yakin menghapus Line ini?';
     		swal({
     			title: msg,
     			text: "",
     			type: 'warning',
     			showCancelButton: true,
     			confirmButtonColor: '#3085d6',
     			cancelButtonColor: '#d33',
     			confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
     			cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
     			allowOutsideClick: true,
     			allowEscapeKey: true,
     			allowEnterKey: true,
     			reverseButtons: false,
     			focusCancel: true,
     		}).then(function () {
          //startcode
          var row = ths.id.replace('line_btndelete_', '');
          var info = "";
          var info2 = "";
          var info3 = "warning";
          var no = document.getElementById("no_" + row).value.trim();
          var no_doc = document.getElementById("no_doc").value.trim();
          if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
          	changeKdLine(row);
          } else {
            //DELETE DI DATABASE
            // remove these events;
            window.onkeydown = null;
            window.onfocus = null;
            var token = document.getElementsByName('_token')[0].value.trim();
            // delete via ajax
            // hapus data detail dengan ajax
            var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            url = url.replace('param', window.btoa(no_doc));
            url = url.replace('param2', window.btoa(no));

            $.ajax({
            	type     : 'POST',
            	url      : url,
            	dataType : 'json',
            	data     : {
            		_method : 'DELETE',
            		_token  : token
            	},
            	success:function(data){
            		if(data.status === 'OK'){
            			changeKdLine(row);
            			info = "Deleted!";
            			info2 = data.message;
            			info3 = "success";
            			swal(info, info2, info3);
            		} else {
            			info = "Cancelled";
            			info2 = data.message;
            			info3 = "error";
            			swal(info, info2, info3);
            		}
            	}, error:function(){ 
            		info = "System Error!";
            		info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            		info3 = "error";
            		swal(info, info2, info3);
            	}
            });
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
     	}

     	function changeKdLine(row) {
     		var id_field1 = "#line_field_" + row;
     		$(id_field1).remove();

     		var jml_line = document.getElementById("jml_line").value.trim();
     		jml_line = Number(jml_line);  
     		nextRow = Number(row) + 1;
     		for($i = nextRow; $i <= jml_line; $i++) {
     			var no = '#no_' + $i;
     			var no_new = 'no_' + ($i-1);
     			$(no).attr({"id":no_new, "name":no_new});

     			var jam = '#jam_' + $i;
     			var jam_new = 'jam_' + ($i-1);
     			$(jam).attr({"id":jam_new, "name":jam_new});

     			var part_no = '#part_no_' + $i;
     			var part_no_new = 'part_no_' + ($i-1);
     			$(part_no).attr({"id":part_no_new, "name":part_no_new});

     			var qty = '#qty_' + $i;
     			var qty_new = 'qty_' + ($i-1);
     			$(qty).attr({"id":qty_new, "name":qty_new});

     			var btndelete = '#line_btndelete_' + $i;
     			var btndelete_new = 'line_btndelete_' + ($i-1);
     			$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

     			var btnpopupshift = '#line_btnpopupshift_' + $i;
     			var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
     			$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

     			var btnpopuppart = '#line_btnpopuppart_' + $i;
     			var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
     			$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

     			var id_field1 = "#line_field_" + $i;
     			var id_field_new = "line_field_" + ($i-1);
     			$(id_field1).attr({"id":id_field_new, "name":id_field_new});

     			var text = document.getElementById(no_new).innerHTML;
     			text = text.replace($i, ($i-1));
     			document.getElementById(no_new).innerHTML = text;

     		}
     		jml_line = jml_line - 1;
     		document.getElementById("jml_line").value = jml_line;

     	}

      // B.MECHANICAL PROPERTIES\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

     // Initialize Select2 Elements

     $("#addd").click(function(){
     	var jml_linee = document.getElementById("jml_linee").value.trim();
     	jml_linee = Number(jml_linee) + 1;
     	document.getElementById("jml_linee").value = jml_linee  ;

     	var no = 'no_'+jml_linee;
     	var item = 'item_'+jml_linee;
     	var nominal = 'nominal_'+jml_linee;
     	var tolerance = 'tolerance_'+jml_linee;
     	var instrument = 'instrument_'+jml_linee;
     	var rank = 'rank_'+jml_linee;
     	var proses = 'proses_'+jml_linee;
     	var delivery = 'delivery_'+jml_linee;
     	var remarks = 'remarks_'+jml_linee;
     	var btndelete = 'line_btndelete_'+jml_linee;
     	var id_field2 = 'line_field2_'+jml_linee;

     	$("#dynamic_field2").append(
     		'<tr id="'+id_field2+'">\
     		<td>\
     			<input type="text" id="' +no+ '" name="' +no+ '" placeholder="" class="form-control name_list" value="'+jml_linee+'" align="center"/>\
     		</td>\
     		<td>\
     			<div class="input-group">\
     				<input type="text" id="' +item+ '" name="' +item+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
     			</div>\
     		</td>\
     		<td>\
     			<div class="input-group">\
     				<input type="text" id="' +nominal+ '" name="' +nominal+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
     			</div>\
     		</td>\
     		<td>\
     			<input type="text" id="' +tolerance+ '" name="' +tolerance+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +instrument+ '" name="' +instrument+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +rank+ '" name="' +rank+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +delivery+ '" name="' +delivery+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +remarks+ '" name="' +remarks+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
     				<i class="fa fa-times"></i>\
     			</button>\
     		</td>\
     	</tr>'
     	);

     }); 

     function deleteLine(ths) {
     	var msg = 'Anda yakin menghapus Line ini?';
     	swal({
     		title: msg,
     		text: "",
     		type: 'warning',
     		showCancelButton: true,
     		confirmButtonColor: '#3085d6',
     		cancelButtonColor: '#d33',
     		confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
     		cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
     		allowOutsideClick: true,
     		allowEscapeKey: true,
     		allowEnterKey: true,
     		reverseButtons: false,
     		focusCancel: true,
     	}).then(function () {
          //startcode
          var row = ths.id.replace('line_btndelete_', '');
          var info = "";
          var info2 = "";
          var info3 = "warning";
          var no = document.getElementById("no_" + row).value.trim();
          var no_doc = document.getElementById("no_doc").value.trim();
          if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
          	changeKdLine(row);
          } else {
            //DELETE DI DATABASE
            // remove these events;
            window.onkeydown = null;
            window.onfocus = null;
            var token = document.getElementsByName('_token')[0].value.trim();
            // delete via ajax
            // hapus data detail dengan ajax
            var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            url = url.replace('param', window.btoa(no_doc));
            url = url.replace('param2', window.btoa(no));

            $.ajax({
            	type     : 'POST',
            	url      : url,
            	dataType : 'json',
            	data     : {
            		_method : 'DELETE',
            		_token  : token
            	},
            	success:function(data){
            		if(data.status === 'OK'){
            			changeKdLine(row);
            			info = "Deleted!";
            			info2 = data.message;
            			info3 = "success";
            			swal(info, info2, info3);
            		} else {
            			info = "Cancelled";
            			info2 = data.message;
            			info3 = "error";
            			swal(info, info2, info3);
            		}
            	}, error:function(){ 
            		info = "System Error!";
            		info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            		info3 = "error";
            		swal(info, info2, info3);
            	}
            });
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
     }

     function changeKdLine(row) {
     	var id_field1 = "#line_field_" + row;
     	$(id_field1).remove();

     	var jml_line = document.getElementById("jml_line").value.trim();
     	jml_line = Number(jml_line);  
     	nextRow = Number(row) + 1;
     	for($i = nextRow; $i <= jml_line; $i++) {
     		var no = '#no_' + $i;
     		var no_new = 'no_' + ($i-1);
     		$(no).attr({"id":no_new, "name":no_new});

     		var jam = '#jam_' + $i;
     		var jam_new = 'jam_' + ($i-1);
     		$(jam).attr({"id":jam_new, "name":jam_new});

     		var part_no = '#part_no_' + $i;
     		var part_no_new = 'part_no_' + ($i-1);
     		$(part_no).attr({"id":part_no_new, "name":part_no_new});

     		var qty = '#qty_' + $i;
     		var qty_new = 'qty_' + ($i-1);
     		$(qty).attr({"id":qty_new, "name":qty_new});

     		var btndelete = '#line_btndelete_' + $i;
     		var btndelete_new = 'line_btndelete_' + ($i-1);
     		$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

     		var btnpopupshift = '#line_btnpopupshift_' + $i;
     		var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
     		$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

     		var btnpopuppart = '#line_btnpopuppart_' + $i;
     		var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
     		$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

     		var id_field1 = "#line_field_" + $i;
     		var id_field_new = "line_field_" + ($i-1);
     		$(id_field1).attr({"id":id_field_new, "name":id_field_new});

     		var text = document.getElementById(no_new).innerHTML;
     		text = text.replace($i, ($i-1));
     		document.getElementById(no_new).innerHTML = text;

     	}
     	jml_line = jml_line - 1;
     	document.getElementById("jml_line").value = jml_line;

     }


      // C. WELDING PERFORMANCE (IF ANY)


     // Initialize Select2 Elements

     $("#add3").click(function(){
     	var jml_line3 = document.getElementById("jml_line3").value.trim();
     	jml_line3 = Number(jml_line3) + 1;
     	document.getElementById("jml_line3").value = jml_line3  ;

     	var no = 'no_'+jml_line3;
     	var item = 'item_'+jml_line3;
     	var nominal = 'nominal_'+jml_line3;
     	var tolerance = 'tolerance_'+jml_line3;
     	var instrument = 'instrument_'+jml_line3;
     	var rank = 'rank_'+jml_line3;
     	var proses = 'proses_'+jml_line3;
     	var delivery = 'delivery_'+jml_line3;
     	var remarks = 'remarks_'+jml_line3;
     	var btndelete = 'line_btndelete_'+jml_line3;
     	var id_field3 = 'line_field3_'+jml_line3;

     	$("#dynamic_field3").append(
     		'<tr id="'+id_field3+'">\
     		<td>\
     			<input type="text" id="' +no+ '" name="' +no+ '" placeholder="" class="form-control name_list" value="'+jml_line3+'" align="center"/>\
     		</td>\
     		<td>\
     			<div class="input-group">\
     				<input type="text" id="' +item+ '" name="' +item+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
     			</div>\
     		</td>\
     		<td>\
     			<div class="input-group">\
     				<input type="text" id="' +nominal+ '" name="' +nominal+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
     			</div>\
     		</td>\
     		<td>\
     			<input type="text" id="' +tolerance+ '" name="' +tolerance+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +instrument+ '" name="' +instrument+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +rank+ '" name="' +rank+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +delivery+ '" name="' +delivery+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +remarks+ '" name="' +remarks+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
     				<i class="fa fa-times"></i>\
     			</button>\
     		</td>\
     	</tr>'
     	);

     });

     function deleteLine(ths) {
     	var msg = 'Anda yakin menghapus Line ini?';
     	swal({
     		title: msg,
     		text: "",
     		type: 'warning',
     		showCancelButton: true,
     		confirmButtonColor: '#3085d6',
     		cancelButtonColor: '#d33',
     		confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
     		cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
     		allowOutsideClick: true,
     		allowEscapeKey: true,
     		allowEnterKey: true,
     		reverseButtons: false,
     		focusCancel: true,
     	}).then(function () {
          //startcode
          var row = ths.id.replace('line_btndelete_', '');
          var info = "";
          var info2 = "";
          var info3 = "warning";
          var no = document.getElementById("no_" + row).value.trim();
          var no_doc = document.getElementById("no_doc").value.trim();
          if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
          	changeKdLine(row);
          } else {
            //DELETE DI DATABASE
            // remove these events;
            window.onkeydown = null;
            window.onfocus = null;
            var token = document.getElementsByName('_token')[0].value.trim();
            // delete via ajax
            // hapus data detail dengan ajax
            var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            url = url.replace('param', window.btoa(no_doc));
            url = url.replace('param2', window.btoa(no));

            $.ajax({
            	type     : 'POST',
            	url      : url,
            	dataType : 'json',
            	data     : {
            		_method : 'DELETE',
            		_token  : token
            	},
            	success:function(data){
            		if(data.status === 'OK'){
            			changeKdLine(row);
            			info = "Deleted!";
            			info2 = data.message;
            			info3 = "success";
            			swal(info, info2, info3);
            		} else {
            			info = "Cancelled";
            			info2 = data.message;
            			info3 = "error";
            			swal(info, info2, info3);
            		}
            	}, error:function(){ 
            		info = "System Error!";
            		info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            		info3 = "error";
            		swal(info, info2, info3);
            	}
            });
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
     }

     function changeKdLine(row) {
     	var id_field3 = "#line_field3_" + row;
     	$(id_field3).remove();

     	var jml_line = document.getElementById("jml_line").value.trim();
     	jml_line = Number(jml_line);  
     	nextRow = Number(row) + 1;
     	for($i = nextRow; $i <= jml_line; $i++) {
     		var no = '#no_' + $i;
     		var no_new = 'no_' + ($i-1);
     		$(no).attr({"id":no_new, "name":no_new});

     		var jam = '#jam_' + $i;
     		var jam_new = 'jam_' + ($i-1);
     		$(jam).attr({"id":jam_new, "name":jam_new});

     		var part_no = '#part_no_' + $i;
     		var part_no_new = 'part_no_' + ($i-1);
     		$(part_no).attr({"id":part_no_new, "name":part_no_new});

     		var qty = '#qty_' + $i;
     		var qty_new = 'qty_' + ($i-1);
     		$(qty).attr({"id":qty_new, "name":qty_new});

     		var btndelete = '#line_btndelete_' + $i;
     		var btndelete_new = 'line_btndelete_' + ($i-1);
     		$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

     		var btnpopupshift = '#line_btnpopupshift_' + $i;
     		var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
     		$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

     		var btnpopuppart = '#line_btnpopuppart_' + $i;
     		var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
     		$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

     		var id_field1 = "#line_field_" + $i;
     		var id_field_new = "line_field_" + ($i-1);
     		$(id_field1).attr({"id":id_field_new, "name":id_field_new});

     		var text = document.getElementById(no_new).innerHTML;
     		text = text.replace($i, ($i-1));
     		document.getElementById(no_new).innerHTML = text;

     	}
     	jml_line = jml_line - 1;
     	document.getElementById("jml_line").value = jml_line;

     }

      // D. SURFACE TREATMENT (IF ANY)\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\


     // Initialize Select2 Elements

     $("#add4").click(function(){
     	var jml_line4 = document.getElementById("jml_line4").value.trim();
     	jml_line4 = Number(jml_line4) + 1;
     	document.getElementById("jml_line4").value = jml_line4  ;

     	var no = 'no_'+jml_line4;
     	var item = 'item_'+jml_line4;
     	var nominal = 'nominal_'+jml_line4;
     	var tolerance = 'tolerance_'+jml_line4;
     	var instrument = 'instrument_'+jml_line4;
     	var rank = 'rank_'+jml_line4;
     	var proses = 'proses_'+jml_line4;
     	var delivery = 'delivery_'+jml_line4;
     	var remarks = 'remarks_'+jml_line4;
     	var btndelete = 'line_btndelete_'+jml_line4;
     	var id_field4 = 'line_field4_'+jml_line4;

     	$("#dynamic_field4").append(
     		'<tr id="'+id_field4+'">\
     		<td>\
     			<input type="text" id="' +no+ '" name="' +no+ '" placeholder="" class="form-control name_list" value="'+jml_line4+'" align="center"/>\
     		</td>\
     		<td>\
     			<div class="input-group">\
     				<input type="text" id="' +item+ '" name="' +item+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
     			</div>\
     		</td>\
     		<td>\
     			<div class="input-group">\
     				<input type="text" id="' +nominal+ '" name="' +nominal+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
     			</div>\
     		</td>\
     		<td>\
     			<input type="text" id="' +tolerance+ '" name="' +tolerance+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +instrument+ '" name="' +instrument+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +rank+ '" name="' +rank+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +delivery+ '" name="' +delivery+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +remarks+ '" name="' +remarks+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
     				<i class="fa fa-times"></i>\
     			</button>\
     		</td>\
     	</tr>'
     	);
     });




     function deleteLine(ths) {
     	var msg = 'Anda yakin menghapus Line ini?';
     	swal({
     		title: msg,
     		text: "",
     		type: 'warning',
     		showCancelButton: true,
     		confirmButtonColor: '#3085d6',
     		cancelButtonColor: '#d33',
     		confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
     		cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
     		allowOutsideClick: true,
     		allowEscapeKey: true,
     		allowEnterKey: true,
     		reverseButtons: false,
     		focusCancel: true,
     	}).then(function () {
          //startcode
          var row = ths.id.replace('line_btndelete_', '');
          var info = "";
          var info2 = "";
          var info3 = "warning";
          var no = document.getElementById("no_" + row).value.trim();
          var no_doc = document.getElementById("no_doc").value.trim();
          if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
          	changeKdLine(row);
          } else {
            //DELETE DI DATABASE
            // remove these events;
            window.onkeydown = null;
            window.onfocus = null;
            var token = document.getElementsByName('_token')[0].value.trim();
            // delete via ajax
            // hapus data detail dengan ajax
            var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            url = url.replace('param', window.btoa(no_doc));
            url = url.replace('param2', window.btoa(no));

            $.ajax({
            	type     : 'POST',
            	url      : url,
            	dataType : 'json',
            	data     : {
            		_method : 'DELETE',
            		_token  : token
            	},
            	success:function(data){
            		if(data.status === 'OK'){
            			changeKdLine(row);
            			info = "Deleted!";
            			info2 = data.message;
            			info3 = "success";
            			swal(info, info2, info3);
            		} else {
            			info = "Cancelled";
            			info2 = data.message;
            			info3 = "error";
            			swal(info, info2, info3);
            		}
            	}, error:function(){ 
            		info = "System Error!";
            		info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            		info3 = "error";
            		swal(info, info2, info3);
            	}
            });
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
     }

     function changeKdLine(row) {
     	var id_field1 = "#line_field_" + row;
     	$(id_field1).remove();

     	var jml_line = document.getElementById("jml_line").value.trim();
     	jml_line = Number(jml_line);  
     	nextRow = Number(row) + 1;
     	for($i = nextRow; $i <= jml_line; $i++) {
     		var no = '#no_' + $i;
     		var no_new = 'no_' + ($i-1);
     		$(no).attr({"id":no_new, "name":no_new});

     		var jam = '#jam_' + $i;
     		var jam_new = 'jam_' + ($i-1);
     		$(jam).attr({"id":jam_new, "name":jam_new});

     		var part_no = '#part_no_' + $i;
     		var part_no_new = 'part_no_' + ($i-1);
     		$(part_no).attr({"id":part_no_new, "name":part_no_new});

     		var qty = '#qty_' + $i;
     		var qty_new = 'qty_' + ($i-1);
     		$(qty).attr({"id":qty_new, "name":qty_new});

     		var btndelete = '#line_btndelete_' + $i;
     		var btndelete_new = 'line_btndelete_' + ($i-1);
     		$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

     		var btnpopupshift = '#line_btnpopupshift_' + $i;
     		var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
     		$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

     		var btnpopuppart = '#line_btnpopuppart_' + $i;
     		var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
     		$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

     		var id_field1 = "#line_field_" + $i;
     		var id_field_new = "line_field_" + ($i-1);
     		$(id_field1).attr({"id":id_field_new, "name":id_field_new});

     		var text = document.getElementById(no_new).innerHTML;
     		text = text.replace($i, ($i-1));
     		document.getElementById(no_new).innerHTML = text;

     	}
     	jml_line = jml_line - 1;
     	document.getElementById("jml_line").value = jml_line;

     }


      // E. HEAT TREATMENT (IF ANY)


     // Initialize Select2 Elements

     $("#add5").click(function(){
     	var jml_line5 = document.getElementById("jml_line5").value.trim();
     	jml_line5 = Number(jml_line5) + 1;
     	document.getElementById("jml_line5").value = jml_line5  ;

     	var no = 'no_'+jml_line5;
     	var item = 'item_'+jml_line5;
     	var nominal = 'nominal_'+jml_line5;
     	var tolerance = 'tolerance_'+jml_line5;
     	var instrument = 'instrument_'+jml_line5;
     	var rank = 'rank_'+jml_line5;
     	var proses = 'proses_'+jml_line5;
     	var delivery = 'delivery_'+jml_line5;
     	var remarks = 'remarks_'+jml_line5;
     	var btndelete = 'line_btndelete_'+jml_line5;
     	var id_field5 = 'line_field_'+jml_line5;

     	$("#dynamic_field5").append(
     		'<tr id="'+id_field5+'">\
     		<td>\
     			<input type="text" id="' +no+ '" name="' +no+ '" placeholder="" class="form-control name_list" value="'+jml_line5+'" align="center"/>\
     		</td>\
     		<td>\
     			<div class="input-group">\
     				<input type="text" id="' +item+ '" name="' +item+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
     			</div>\
     		</td>\
     		<td>\
     			<div class="input-group">\
     				<input type="text" id="' +nominal+ '" name="' +nominal+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
     			</div>\
     		</td>\
     		<td>\
     			<input type="text" id="' +tolerance+ '" name="' +tolerance+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +instrument+ '" name="' +instrument+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +rank+ '" name="' +rank+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +delivery+ '" name="' +delivery+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<input type="text" id="' +remarks+ '" name="' +remarks+ '" placeholder="" class="form-control name_list" />\
     		</td>\
     		<td>\
     			<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
     				<i class="fa fa-times"></i>\
     			</button>\
     		</td>\
     	</tr>'
     	);
     });




     function deleteLine(ths) {
     	var msg = 'Anda yakin menghapus Line ini?';
     	swal({
     		title: msg,
     		text: "",
     		type: 'warning',
     		showCancelButton: true,
     		confirmButtonColor: '#3085d6',
     		cancelButtonColor: '#d33',
     		confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
     		cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
     		allowOutsideClick: true,
     		allowEscapeKey: true,
     		allowEnterKey: true,
     		reverseButtons: false,
     		focusCancel: true,
     	}).then(function () {
          //startcode
          var row = ths.id.replace('line_btndelete_', '');
          var info = "";
          var info2 = "";
          var info3 = "warning";
          var no = document.getElementById("no_" + row).value.trim();
          var no_doc = document.getElementById("no_doc").value.trim();
          if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
          	changeKdLine(row);
          } else {
            //DELETE DI DATABASE
            // remove these events;
            window.onkeydown = null;
            window.onfocus = null;
            var token = document.getElementsByName('_token')[0].value.trim();
            // delete via ajax
            // hapus data detail dengan ajax
            var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            url = url.replace('param', window.btoa(no_doc));
            url = url.replace('param2', window.btoa(no));

            $.ajax({
            	type     : 'POST',
            	url      : url,
            	dataType : 'json',
            	data     : {
            		_method : 'DELETE',
            		_token  : token
            	},
            	success:function(data){
            		if(data.status === 'OK'){
            			changeKdLine(row);
            			info = "Deleted!";
            			info2 = data.message;
            			info3 = "success";
            			swal(info, info2, info3);
            		} else {
            			info = "Cancelled";
            			info2 = data.message;
            			info3 = "error";
            			swal(info, info2, info3);
            		}
            	}, error:function(){ 
            		info = "System Error!";
            		info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            		info3 = "error";
            		swal(info, info2, info3);
            	}
            });
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
     }

     function changeKdLine(row) {
     	var id_field1 = "#line_field_" + row;
     	$(id_field1).remove();

     	var jml_line = document.getElementById("jml_line").value.trim();
     	jml_line = Number(jml_line);  
     	nextRow = Number(row) + 1;
     	for($i = nextRow; $i <= jml_line; $i++) {
     		var no = '#no_' + $i;
     		var no_new = 'no_' + ($i-1);
     		$(no).attr({"id":no_new, "name":no_new});

     		var jam = '#jam_' + $i;
     		var jam_new = 'jam_' + ($i-1);
     		$(jam).attr({"id":jam_new, "name":jam_new});

     		var part_no = '#part_no_' + $i;
     		var part_no_new = 'part_no_' + ($i-1);
     		$(part_no).attr({"id":part_no_new, "name":part_no_new});

     		var qty = '#qty_' + $i;
     		var qty_new = 'qty_' + ($i-1);
     		$(qty).attr({"id":qty_new, "name":qty_new});

     		var btndelete = '#line_btndelete_' + $i;
     		var btndelete_new = 'line_btndelete_' + ($i-1);
     		$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

     		var btnpopupshift = '#line_btnpopupshift_' + $i;
     		var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
     		$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

     		var btnpopuppart = '#line_btnpopuppart_' + $i;
     		var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
     		$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

     		var id_field1 = "#line_field_" + $i;
     		var id_field_new = "line_field_" + ($i-1);
     		$(id_field1).attr({"id":id_field_new, "name":id_field_new});

     		var text = document.getElementById(no_new).innerHTML;
     		text = text.replace($i, ($i-1));
     		document.getElementById(no_new).innerHTML = text;

     	}
     	jml_line = jml_line - 1;
     	document.getElementById("jml_line").value = jml_line;

     }



     // Initialize Select2 Elements


 </script>
 <script type="text/javascript">

		////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
     	// II. APPEARENCE
		 // Initialize Select2 Elements

		 $("#tambah").click(function(){
		 	var jml_rows = document.getElementById("jml_rows").value.trim();
		 	jml_rows = Number(jml_rows) + 1;
		 	document.getElementById("jml_rows").value = jml_rows  ;
		 	var no = 'no_'+jml_rows;
		 	var item = 'item_'+jml_rows;
		 	var nominal = 'nominal_'+jml_rows;
		 	var tolerance = 'tolerance_'+jml_rows;
		 	var instrument = 'instrument_'+jml_rows;
		 	var rank = 'rank_'+jml_rows;
		 	var proses = 'proses_'+jml_rows;
		 	var delivery = 'delivery_'+jml_rows;
		 	var remarks = 'remarks_'+jml_rows;
		 	var btndelete = 'line_btndelete_'+jml_rows;
		 	var id_field6 = 'line_field6_'+jml_rows;
		 	$("#dynamic_field6").append(
		 		'<tr id="'+id_field6+'">\
		 		<td>\
		 			<input type="text" id="' +no+ '" name="' +no+ '" placeholder="" class="form-control name_list" value="'+jml_rows+'" align="center"/>\
		 		</td>\
		 		<td>\
		 			<div class="input-group">\
		 				<input type="text" id="' +item+ '" name="' +item+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
		 			</div>\
		 		</td>\
		 		<td>\
		 			<div class="input-group">\
		 				<input type="text" id="' +nominal+ '" name="' +nominal+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
		 			</div>\
		 		</td>\
		 		<td>\
		 			<input type="text" id="' +tolerance+ '" name="' +tolerance+ '" placeholder="" class="form-control name_list" />\
		 		</td>\
		 		<td>\
		 			<input type="text" id="' +instrument+ '" name="' +instrument+ '" placeholder="" class="form-control name_list" />\
		 		</td>\
		 		<td>\
		 			<input type="text" id="' +rank+ '" name="' +rank+ '" placeholder="" class="form-control name_list" />\
		 		</td>\
		 		<td>\
		 			<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
		 		</td>\
		 		<td>\
		 			<input type="text" id="' +delivery+ '" name="' +delivery+ '" placeholder="" class="form-control name_list" />\
		 		</td>\
		 		<td>\
		 			<input type="text" id="' +remarks+ '" name="' +remarks+ '" placeholder="" class="form-control name_list" />\
		 		</td>\
		 		<td>\
		 			<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
		 				<i class="fa fa-times"></i>\
		 			</button>\
		 		</td>\
		 	</tr>'
		 	);
		 });

		 function deleteLine(ths) {
		 	var msg = 'Anda yakin menghapus Line ini?';
		 	swal({
		 		title: msg,
		 		text: "",
		 		type: 'warning',
		 		showCancelButton: true,
		 		confirmButtonColor: '#3085d6',
		 		cancelButtonColor: '#d33',
		 		confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
		 		cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
		 		allowOutsideClick: true,
		 		allowEscapeKey: true,
		 		allowEnterKey: true,
		 		reverseButtons: false,
		 		focusCancel: true,
		 	}).then(function () {
         			 //startcode
         			 var row = ths.id.replace('line_btndelete_', '');
         			 var info = "";
         			 var info2 = "";
         			 var info3 = "warning";
         			 var no = document.getElementById("no_" + row).value.trim();
         			 var no_doc = document.getElementById("no_doc").value.trim();
         			 if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
         			 	changeKdLine(row);
         			 } else {
            		//DELETE DI DATABASE
            		// remove these events;
            		window.onkeydown = null;
            		window.onfocus = null;
            		var token = document.getElementsByName('_token')[0].value.trim();
            		// delete via ajax
            		// hapus data detail dengan ajax
            		var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            		url = url.replace('param', window.btoa(no_doc));
            		url = url.replace('param2', window.btoa(no));

            		$.ajax({
            			type     : 'POST',
            			url      : url,
            			dataType : 'json',
            			data     : {
            				_method : 'DELETE',
            				_token  : token
            			},
            			success:function(data){
            				if(data.status === 'OK'){
            					changeKdLine(row);
            					info = "Deleted!";
            					info2 = data.message;
            					info3 = "success";
            					swal(info, info2, info3);
            				} else {
            					info = "Cancelled";
            					info2 = data.message;
            					info3 = "error";
            					swal(info, info2, info3);
            				}
            			}, error:function(){ 
            				info = "System Error!";
            				info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            				info3 = "error";
            				swal(info, info2, info3);
            			}
            		});
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
		 }
		 function changeKdLine(row) {
		 	var id_field1 = "#line_field_" + row;
		 	$(id_field1).remove();

		 	var jml_line = document.getElementById("jml_line").value.trim();
		 	jml_line = Number(jml_line);  
		 	nextRow = Number(row) + 1;
		 	for($i = nextRow; $i <= jml_line; $i++) {
		 		var no = '#no_' + $i;
		 		var no_new = 'no_' + ($i-1);
		 		$(no).attr({"id":no_new, "name":no_new});

		 		var jam = '#jam_' + $i;
		 		var jam_new = 'jam_' + ($i-1);
		 		$(jam).attr({"id":jam_new, "name":jam_new});

		 		var part_no = '#part_no_' + $i;
		 		var part_no_new = 'part_no_' + ($i-1);
		 		$(part_no).attr({"id":part_no_new, "name":part_no_new});

		 		var qty = '#qty_' + $i;
		 		var qty_new = 'qty_' + ($i-1);
		 		$(qty).attr({"id":qty_new, "name":qty_new});

		 		var btndelete = '#line_btndelete_' + $i;
		 		var btndelete_new = 'line_btndelete_' + ($i-1);
		 		$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

		 		var btnpopupshift = '#line_btnpopupshift_' + $i;
		 		var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
		 		$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

		 		var btnpopuppart = '#line_btnpopuppart_' + $i;
		 		var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
		 		$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

		 		var id_field1 = "#line_field_" + $i;
		 		var id_field_new = "line_field_" + ($i-1);
		 		$(id_field1).attr({"id":id_field_new, "name":id_field_new});

		 		var text = document.getElementById(no_new).innerHTML;
		 		text = text.replace($i, ($i-1));
		 		document.getElementById(no_new).innerHTML = text;

		 	}
		 	jml_line = jml_line - 1;
		 	document.getElementById("jml_line").value = jml_line;

		 }



      //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
      /////III. DIMENSION

      $("#dimention").click(function(){
      	var jml_input1 = document.getElementById("jml_input1").value.trim();
      	jml_input1 = Number(jml_input1) + 1;
      	document.getElementById("jml_input1").value = jml_input1  ;

      	var no = 'no_'+jml_input1;
      	var item = 'item_'+jml_input1;
      	var nominal = 'nominal_'+jml_input1;
      	var tolerance = 'tolerance_'+jml_input1;
      	var instrument = 'instrument_'+jml_input1;
      	var rank = 'rank_'+jml_input1;
      	var proses = 'proses_'+jml_input1;
      	var delivery = 'delivery_'+jml_input1;
      	var remarks = 'remarks_'+jml_input1;
      	var btndelete = 'line_btndelete_'+jml_input1;
      	var id_field7 = 'line_field_'+jml_input1;
      	$("#dynamic_field7").append(
      		'<tr id="'+id_field7+'">\
      		<td>\
      			<input type="text" id="' +no+ '" name="' +no+ '" placeholder="" class="form-control name_list" value="'+jml_input1+'" align="center"/>\
      		</td>\
      		<td>\
      			<div class="input-group">\
      				<input type="text" id="' +item+ '" name="' +item+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
      			</div>\
      		</td>\
      		<td>\
      			<div class="input-group">\
      				<input type="text" id="' +nominal+ '" name="' +nominal+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
      			</div>\
      		</td>\
      		<td>\
      			<input type="text" id="' +tolerance+ '" name="' +tolerance+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +instrument+ '" name="' +instrument+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +rank+ '" name="' +rank+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +delivery+ '" name="' +delivery+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +remarks+ '" name="' +remarks+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
      				<i class="fa fa-times"></i>\
      			</button>\
      		</td>\
      	</tr>'
      	);
      });
      function deleteLine(ths) {
      	var msg = 'Anda yakin menghapus Line ini?';
      	swal({
      		title: msg,
      		text: "",
      		type: 'warning',
      		showCancelButton: true,
      		confirmButtonColor: '#3085d6',
      		cancelButtonColor: '#d33',
      		confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
      		cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
      		allowOutsideClick: true,
      		allowEscapeKey: true,
      		allowEnterKey: true,
      		reverseButtons: false,
      		focusCancel: true,
      	}).then(function () {
          //startcode
          var row = ths.id.replace('line_btndelete_', '');
          var info = "";
          var info2 = "";
          var info3 = "warning";
          var no = document.getElementById("no_" + row).value.trim();
          var no_doc = document.getElementById("no_doc").value.trim();
          if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
          	changeKdLine(row);
          } else {
            //DELETE DI DATABASE
            // remove these events;
            window.onkeydown = null;
            window.onfocus = null;
            var token = document.getElementsByName('_token')[0].value.trim();
            // delete via ajax
            // hapus data detail dengan ajax
            var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            url = url.replace('param', window.btoa(no_doc));
            url = url.replace('param2', window.btoa(no));

            $.ajax({
            	type     : 'POST',
            	url      : url,
            	dataType : 'json',
            	data     : {
            		_method : 'DELETE',
            		_token  : token
            	},
            	success:function(data){
            		if(data.status === 'OK'){
            			changeKdLine(row);
            			info = "Deleted!";
            			info2 = data.message;
            			info3 = "success";
            			swal(info, info2, info3);
            		} else {
            			info = "Cancelled";
            			info2 = data.message;
            			info3 = "error";
            			swal(info, info2, info3);
            		}
            	}, error:function(){ 
            		info = "System Error!";
            		info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            		info3 = "error";
            		swal(info, info2, info3);
            	}
            });
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
      }

      function changeKdLine(row) {
      	var id_field1 = "#line_field_" + row;
      	$(id_field1).remove();

      	var jml_line = document.getElementById("jml_line").value.trim();
      	jml_line = Number(jml_line);  
      	nextRow = Number(row) + 1;
      	for($i = nextRow; $i <= jml_line; $i++) {
      		var no = '#no_' + $i;
      		var no_new = 'no_' + ($i-1);
      		$(no).attr({"id":no_new, "name":no_new});

      		var jam = '#jam_' + $i;
      		var jam_new = 'jam_' + ($i-1);
      		$(jam).attr({"id":jam_new, "name":jam_new});

      		var part_no = '#part_no_' + $i;
      		var part_no_new = 'part_no_' + ($i-1);
      		$(part_no).attr({"id":part_no_new, "name":part_no_new});

      		var qty = '#qty_' + $i;
      		var qty_new = 'qty_' + ($i-1);
      		$(qty).attr({"id":qty_new, "name":qty_new});

      		var btndelete = '#line_btndelete_' + $i;
      		var btndelete_new = 'line_btndelete_' + ($i-1);
      		$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

      		var btnpopupshift = '#line_btnpopupshift_' + $i;
      		var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
      		$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

      		var btnpopuppart = '#line_btnpopuppart_' + $i;
      		var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
      		$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

      		var id_field1 = "#line_field_" + $i;
      		var id_field_new = "line_field_" + ($i-1);
      		$(id_field1).attr({"id":id_field_new, "name":id_field_new});

      		var text = document.getElementById(no_new).innerHTML;
      		text = text.replace($i, ($i-1));
      		document.getElementById(no_new).innerHTML = text;

      	}
      	jml_line = jml_line - 1;
      	document.getElementById("jml_line").value = jml_line;

      }

      //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
      /////IV. SOC FREE

      $("#socfree").click(function(){
      	var inputhidden = document.getElementById("inputhidden").value.trim();
      	inputhidden = Number(inputhidden) + 1;
      	document.getElementById("inputhidden").value = inputhidden  ;

      	var no = 'no_'+inputhidden;
      	var item = 'item_'+inputhidden;
      	var nominal = 'nominal_'+inputhidden;
      	var tolerance = 'tolerance_'+inputhidden;
      	var instrument = 'instrument_'+inputhidden;
      	var rank = 'rank_'+inputhidden;
      	var proses = 'proses_'+inputhidden;
      	var delivery = 'delivery_'+inputhidden;
      	var remarks = 'remarks_'+inputhidden;
      	var btndelete = 'line_btndelete_'+inputhidden;
      	var id_field8 = 'line_field8_'+inputhidden;

      	$("#dynamic_field8").append(
      		'<tr id="'+id_field8+'">\
      		<td>\
      			<input type="text" id="' +no+ '" name="' +no+ '" placeholder="" class="form-control name_list" value="'+inputhidden+'" align="center"/>\
      		</td>\
      		<td>\
      			<div class="input-group">\
      				<input type="text" id="' +item+ '" name="' +item+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
      			</div>\
      		</td>\
      		<td>\
      			<div class="input-group">\
      				<input type="text" id="' +nominal+ '" name="' +nominal+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
      			</div>\
      		</td>\
      		<td>\
      			<input type="text" id="' +tolerance+ '" name="' +tolerance+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +instrument+ '" name="' +instrument+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +rank+ '" name="' +rank+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +delivery+ '" name="' +delivery+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<input type="text" id="' +remarks+ '" name="' +remarks+ '" placeholder="" class="form-control name_list" />\
      		</td>\
      		<td>\
      			<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
      				<i class="fa fa-times"></i>\
      			</button>\
      		</td>\
      	</tr>'
      	);
      });

      function deleteLine(ths) {
      	var msg = 'Anda yakin menghapus Line ini?';
      	swal({
      		title: msg,
      		text: "",
      		type: 'warning',
      		showCancelButton: true,
      		confirmButtonColor: '#3085d6',
      		cancelButtonColor: '#d33',
      		confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
      		cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
      		allowOutsideClick: true,
      		allowEscapeKey: true,
      		allowEnterKey: true,
      		reverseButtons: false,
      		focusCancel: true,
      	}).then(function () {
          //startcode
          var row = ths.id.replace('line_btndelete_', '');
          var info = "";
          var info2 = "";
          var info3 = "warning";
          var no = document.getElementById("no_" + row).value.trim();
          var no_doc = document.getElementById("no_doc").value.trim();
          if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
          	changeKdLine(row);
          } else {
            //DELETE DI DATABASE
            // remove these events;
            window.onkeydown = null;
            window.onfocus = null;
            var token = document.getElementsByName('_token')[0].value.trim();
            // delete via ajax
            // hapus data detail dengan ajax
            var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            url = url.replace('param', window.btoa(no_doc));
            url = url.replace('param2', window.btoa(no));

            $.ajax({
            	type     : 'POST',
            	url      : url,
            	dataType : 'json',
            	data     : {
            		_method : 'DELETE',
            		_token  : token
            	},
            	success:function(data){
            		if(data.status === 'OK'){
            			changeKdLine(row);
            			info = "Deleted!";
            			info2 = data.message;
            			info3 = "success";
            			swal(info, info2, info3);
            		} else {
            			info = "Cancelled";
            			info2 = data.message;
            			info3 = "error";
            			swal(info, info2, info3);
            		}
            	}, error:function(){ 
            		info = "System Error!";
            		info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            		info3 = "error";
            		swal(info, info2, info3);
            	}
            });
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
      }

      function changeKdLine(row) {
      	var id_field1 = "#line_field_" + row;
      	$(id_field1).remove();

      	var jml_line = document.getElementById("jml_line").value.trim();
      	jml_line = Number(jml_line);  
      	nextRow = Number(row) + 1;
      	for($i = nextRow; $i <= jml_line; $i++) {
      		var no = '#no_' + $i;
      		var no_new = 'no_' + ($i-1);
      		$(no).attr({"id":no_new, "name":no_new});

      		var jam = '#jam_' + $i;
      		var jam_new = 'jam_' + ($i-1);
      		$(jam).attr({"id":jam_new, "name":jam_new});

      		var part_no = '#part_no_' + $i;
      		var part_no_new = 'part_no_' + ($i-1);
      		$(part_no).attr({"id":part_no_new, "name":part_no_new});

      		var qty = '#qty_' + $i;
      		var qty_new = 'qty_' + ($i-1);
      		$(qty).attr({"id":qty_new, "name":qty_new});

      		var btndelete = '#line_btndelete_' + $i;
      		var btndelete_new = 'line_btndelete_' + ($i-1);
      		$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

      		var btnpopupshift = '#line_btnpopupshift_' + $i;
      		var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
      		$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

      		var btnpopuppart = '#line_btnpopuppart_' + $i;
      		var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
      		$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

      		var id_field1 = "#line_field_" + $i;
      		var id_field_new = "line_field_" + ($i-1);
      		$(id_field1).attr({"id":id_field_new, "name":id_field_new});

      		var text = document.getElementById(no_new).innerHTML;
      		text = text.replace($i, ($i-1));
      		document.getElementById(no_new).innerHTML = text;

      	}
      	jml_line = jml_line - 1;
      	document.getElementById("jml_line").value = jml_line;

      }

		/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
       //PART ROUTING
       $("#partrouting").click(function(){
       	var barishidden = document.getElementById("barishidden").value.trim();
       	barishidden = Number(barishidden) + 1;
       	document.getElementById("barishidden").value = barishidden  ;
       	var pno = 'pno_'+barishidden;
       	var level = 'level_'+barishidden;
       	var part_no = 'part_no_'+barishidden;
       	var part_name = 'part_name_'+barishidden;
       	var proses = 'proses_'+barishidden;
       	var supplier = 'supplier_'+barishidden;
       	var btndelete = 'line_btndelete_'+barishidden;
       	var id_field9 = 'line_field9_'+barishidden;
       	$("#dynamic_field9").append(
       		'<tr id="'+id_field9+'">\
       		<td>\
       			<input type="text" id="' +pno+ '" name="' +pno+ '" placeholder="" class="form-control name_list" value="'+barishidden+'" align="center"/>\
       		</td>\
       		<td>\
       			<input type="text" id="' +level+ '" name="' +level+ '" placeholder="" class="form-control name_list" value="" align="center"/>\
       		</td>\
       		<td>\
       			<div class="input-group">\
       				<input type="text" id="' +part_no+ '" name="' +part_no+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
       			</div>\
       		</td>\
       		<td>\
       			<div class="input-group">\
       				<input type="text" id="' +part_name+ '" name="' +part_name+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
       			</div>\
       		</td>\
       		<td>\
       			<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
       		</td>\
       		<td>\
       			<input type="text" id="' +supplier+ '" name="' +supplier+ '" placeholder="" class="form-control name_list" />\
       		</td>\
       		<td>\
       			<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
       				<i class="fa fa-times"></i>\
       			</button>\
       		</td>\
       	</tr>'
       	);

       });

       function deleteLine(ths) {
       	var msg = 'Anda yakin menghapus Line ini?';
       	swal({
       		title: msg,
       		text: "",
       		type: 'warning',
       		showCancelButton: true,
       		confirmButtonColor: '#3085d6',
       		cancelButtonColor: '#d33',
       		confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
       		cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
       		allowOutsideClick: true,
       		allowEscapeKey: true,
       		allowEnterKey: true,
       		reverseButtons: false,
       		focusCancel: true,
       	}).then(function () {
          //startcode
          var row = ths.id.replace('line_btndelete_', '');
          var info = "";
          var info2 = "";
          var info3 = "warning";
          var no = document.getElementById("no_" + row).value.trim();
          var no_doc = document.getElementById("no_doc").value.trim();
          if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
          	changeKdLine(row);
          } else {
            //DELETE DI DATABASE
            // remove these events;
            window.onkeydown = null;
            window.onfocus = null;
            var token = document.getElementsByName('_token')[0].value.trim();
            // delete via ajax
            // hapus data detail dengan ajax
            var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            url = url.replace('param', window.btoa(no_doc));
            url = url.replace('param2', window.btoa(no));

            $.ajax({
            	type     : 'POST',
            	url      : url,
            	dataType : 'json',
            	data     : {
            		_method : 'DELETE',
            		_token  : token
            	},
            	success:function(data){
            		if(data.status === 'OK'){
            			changeKdLine(row);
            			info = "Deleted!";
            			info2 = data.message;
            			info3 = "success";
            			swal(info, info2, info3);
            		} else {
            			info = "Cancelled";
            			info2 = data.message;
            			info3 = "error";
            			swal(info, info2, info3);
            		}
            	}, error:function(){ 
            		info = "System Error!";
            		info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            		info3 = "error";
            		swal(info, info2, info3);
            	}
            });
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
       }

       function changeKdLine(row) {
       	var id_field = "#line_field_" + row;
       	$(id_field).remove();

       	var barishidden = document.getElementById("barishidden").value.trim();
       	barishidden = Number(barishidden);  
       	nextRow = Number(row) + 1;
       	for($i = nextRow; $i <= barishidden; $i++) {
       		var no = '#no_' + $i;
       		var no_new = 'no_' + ($i-1);
       		$(no).attr({"id":no_new, "name":no_new});

       		var jam = '#jam_' + $i;
       		var jam_new = 'jam_' + ($i-1);
       		$(jam).attr({"id":jam_new, "name":jam_new});

       		var part_no = '#part_no_' + $i;
       		var part_no_new = 'part_no_' + ($i-1);
       		$(part_no).attr({"id":part_no_new, "name":part_no_new});

       		var qty = '#qty_' + $i;
       		var qty_new = 'qty_' + ($i-1);
       		$(qty).attr({"id":qty_new, "name":qty_new});

       		var btndelete = '#line_btndelete_' + $i;
       		var btndelete_new = 'line_btndelete_' + ($i-1);
       		$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

       		var btnpopupshift = '#line_btnpopupshift_' + $i;
       		var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
       		$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

       		var btnpopuppart = '#line_btnpopuppart_' + $i;
       		var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
       		$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

       		var id_field = "#line_field_" + $i;
       		var id_field_new = "line_field_" + ($i-1);
       		$(id_field).attr({"id":id_field_new, "name":id_field_new});

       		var text = document.getElementById(no_new).innerHTML;
       		text = text.replace($i, ($i-1));
       		document.getElementById(no_new).innerHTML = text;

       	}
       	barishidden = barishidden - 1;
       	document.getElementById("barishidden").value = barishidden;

       }


       ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
       /////REVISION COLUMN (IF ANY)

       //Initialize Select2 Elements
       $("#revisi").click(function(){
       	var jml_revisi = document.getElementById("jml_revisi").value.trim();
       	jml_revisi = Number(jml_revisi) + 1;
       	document.getElementById("jml_revisi").value = jml_revisi  ;
       	var level = 'supplier_name_'+jml_revisi;
       	var part_no = 'material_'+jml_revisi;
       	var part_name = 'general_tol_'+jml_revisi;
       	var proses = 'weight_'+jml_revisi;
       	var supplier = 'weight_'+jml_revisi;
       	var btndelete = 'line_btndelete_'+jml_revisi;
       	var id_tr = 'line_field_'+jml_revisi;
       	$("#dynamic_fieldd").append(
       		'<tr id="'+id_tr+'">\
       		<td>\
       			<input type="text" id="' +level+ '" name="' +level+ '" placeholder="" class="form-control name_list" value="" align="center"/>\
       		</td>\
       		<td>\
       			<div class="input-group">\
       				<input type="text" id="' +part_no+ '" name="' +part_no+ '" onchange="validatejam(this)" placeholder="" class="form-control name_list"  value="" />\
       			</div>\
       		</td>\
       		<td>\
       			<div class="input-group">\
       				<input type="text" id="' +part_name+ '" name="' +part_name+ '" onchange="validatepart(this)" placeholder="" class="form-control name_list"  value=""/>\
       			</div>\
       		</td>\
       		<td>\
       			<input type="text" id="' +proses+ '" name="' +proses+ '" placeholder="" class="form-control name_list" />\
       		</td>\
       		<td>\
       			<input type="text" id="' +supplier+ '" name="' +supplier+ '" placeholder="" class="form-control name_list" />\
       		</td>\
       		<td>\
       			<button id="' + btndelete + '" name="' + btndelete + '" type="button" class="btn btn-danger btn-sm" onclick="deleteLine(this)">\
       				<i class="fa fa-times"></i>\
       			</button>\
       		</td>\
       	</tr>'
       	);


       });


       function deleteLine(ths) {
       	var msg = 'Anda yakin menghapus Line ini?';
       	swal({
       		title: msg,
       		text: "",
       		type: 'warning',
       		showCancelButton: true,
       		confirmButtonColor: '#3085d6',
       		cancelButtonColor: '#d33',
       		confirmButtonText: '<i class="fa fa-thumbs-up"></i> Yes, delete it!',
       		cancelButtonText: '<i class="fa fa-thumbs-down"></i> No, cancel!',
       		allowOutsideClick: true,
       		allowEscapeKey: true,
       		allowEnterKey: true,
       		reverseButtons: false,
       		focusCancel: true,
       	}).then(function () {
          //startcode
          var row = ths.id.replace('line_btndelete_', '');
          var info = "";
          var info2 = "";
          var info3 = "warning";
          var no = document.getElementById("no_" + row).value.trim();
          var no_doc = document.getElementById("no_doc").value.trim();
          if(no === "" || no === "0" ||  no_doc === "" || no_doc === "0" ) {
          	changeKdLine(row);
          } else {
            //DELETE DI DATABASE
            // remove these events;
            window.onkeydown = null;
            window.onfocus = null;
            var token = document.getElementsByName('_token')[0].value.trim();
            // delete via ajax
            // hapus data detail dengan ajax
            var url = '{{ route('tlhpn01s.deleteLine', ['param','param2']) }}';
            url = url.replace('param', window.btoa(no_doc));
            url = url.replace('param2', window.btoa(no));

            $.ajax({
            	type     : 'POST',
            	url      : url,
            	dataType : 'json',
            	data     : {
            		_method : 'DELETE',
            		_token  : token
            	},
            	success:function(data){
            		if(data.status === 'OK'){
            			changeKdLine(row);
            			info = "Deleted!";
            			info2 = data.message;
            			info3 = "success";
            			swal(info, info2, info3);
            		} else {
            			info = "Cancelled";
            			info2 = data.message;
            			info3 = "error";
            			swal(info, info2, info3);
            		}
            	}, error:function(){ 
            		info = "System Error!";
            		info2 = "Maaf, terjadi kesalahan pada system kami. Silahkan hubungi Administrator. Terima Kasih.";
            		info3 = "error";
            		swal(info, info2, info3);
            	}
            });
            //END DELETE DI DATABASE
        }
          //finishcode
      }, function (dismiss) {
          // dismiss can be 'cancel', 'overlay',
          // 'close', and 'timer'
          if (dismiss === 'cancel') {
            // swal(
            //   'Cancelled',
            //   'Your imaginary file is safe :)',
            //   'error'
            // )
        }
    })
       }

       function changeKdLine(row) {
       	var id_field = "#line_field_" + row;
       	$(id_field).remove();

       	var jml_revisi = document.getElementById("jml_revisi").value.trim();
       	jml_revisi = Number(jml_revisi);  
       	nextRow = Number(row) + 1;
       	for($i = nextRow; $i <= jml_revisi; $i++) {
       		var no = '#no_' + $i;
       		var no_new = 'no_' + ($i-1);
       		$(no).attr({"id":no_new, "name":no_new});

       		var jam = '#jam_' + $i;
       		var jam_new = 'jam_' + ($i-1);
       		$(jam).attr({"id":jam_new, "name":jam_new});

       		var part_no = '#part_no_' + $i;
       		var part_no_new = 'part_no_' + ($i-1);
       		$(part_no).attr({"id":part_no_new, "name":part_no_new});

       		var qty = '#qty_' + $i;
       		var qty_new = 'qty_' + ($i-1);
       		$(qty).attr({"id":qty_new, "name":qty_new});

       		var btndelete = '#line_btndelete_' + $i;
       		var btndelete_new = 'line_btndelete_' + ($i-1);
       		$(btndelete).attr({"id":btndelete_new, "name":btndelete_new});

       		var btnpopupshift = '#line_btnpopupshift_' + $i;
       		var btnpopupshift_new = 'line_btnpopupshift_' + ($i-1);
       		$(btnpopupshift).attr({"id":btnpopupshift_new, "name":btnpopupshift_new});

       		var btnpopuppart = '#line_btnpopuppart_' + $i;
       		var btnpopuppart_new = 'line_btnpopuppart_' + ($i-1);
       		$(btnpopuppart).attr({"id":btnpopuppart_new, "name":btnpopuppart_new});

       		var id_field = "#line_field_" + $i;
       		var id_field_new = "line_field_" + ($i-1);
       		$(id_field).attr({"id":id_field_new, "name":id_field_new});

       		var text = document.getElementById(no_new).innerHTML;
       		text = text.replace($i, ($i-1));
       		document.getElementById(no_new).innerHTML = text;

       	}
       	jml_revisi = jml_revisi - 1;
       	document.getElementById("jml_revisi").value = jml_revisi;

       }
   </script>
   @endsection
